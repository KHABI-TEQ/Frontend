# Quick Reference Guide

## Preference Submission Form - At a Glance

### Preference Types & Steps

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PREFERENCE TYPES & THEIR STEPS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚ BUY PROPERTY                                                â”‚
â”‚ â”œâ”€ Step 0: Location & Area Selection                        â”‚
â”‚ â”œâ”€ Step 1: Property Details & Budget                        â”‚
â”‚ â”œâ”€ Step 2: Features & Amenities                             â”‚
â”‚ â””â”€ Step 3: Contact Information                              â”‚
â”‚                                                              â”‚
â”‚ RENT PROPERTY                                               â”‚
â”‚ â”œâ”€ Step 0: Location & Area Selection                        â”‚
â”‚ â”œâ”€ Step 1: Property Details & Budget                        â”‚
â”‚ â”œâ”€ Step 2: Features & Amenities                             â”‚
â”‚ â””â”€ Step 3: Contact Information                              â”‚
â”‚                                                              â”‚
â”‚ SHORTLET BOOKING                                            â”‚
â”‚ â”œâ”€ Step 0: Location & Area Selection                        â”‚
â”‚ â”œâ”€ Step 1: Property Details & Budget                        â”‚
â”‚ â”œâ”€ Step 2: Features & Amenities                             â”‚
â”‚ â””â”€ Step 3: Contact Information                              â”‚
â”‚                                                              â”‚
â”‚ JOINT VENTURE                                               â”‚
â”‚ â”œâ”€ Step 0: Developer Information                            â”‚
â”‚ â”œâ”€ Step 1: Development Type Selection                       â”‚
â”‚ â”œâ”€ Step 2: Land Requirements                                â”‚
â”‚ â”œâ”€ Step 3: JV Terms & Proposal                              â”‚
â”‚ â””â”€ Step 4: Title & Documentation                            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Validation Summary

```
LOCATION STEP
â”œâ”€ State: Required âœ“
â”œâ”€ LGAs: Min 1, Max 3 âœ“
â”œâ”€ Areas: Max 3 per LGA âœ“
â””â”€ Must have areas OR custom location âœ“

PROPERTY DETAILS STEP
â”œâ”€ Property Type: Required âœ“
â”œâ”€ Land Size: Required (varies by unit) âœ“
â”œâ”€ Building Type: Required (if not land) âœ“
â”œâ”€ Property Condition: Required (if not land) âœ“
â”œâ”€ Bedrooms: Required (if residential) âœ“
â””â”€ Document Types: Required (at least 1) âœ“

BUDGET STEP
â”œâ”€ Min Price: > 0 âœ“
â”œâ”€ Max Price: > Min Price âœ“
â””â”€ Min Price: >= Location Threshold âœ“

CONTACT STEP
â”œâ”€ Full Name: 2-100 chars, letters only âœ“
â”œâ”€ Email: Valid format âœ“
â”œâ”€ Phone: Valid Nigerian format âœ“
â””â”€ Additional Notes: Max 1000 chars âœ“
```

### Feature Categories

```
RESIDENTIAL (Buy/Rent)          COMMERCIAL (Buy/Rent)
â”œâ”€ Basic:                       â”œâ”€ Basic:
â”‚  â”œâ”€ Security Cameras          â”‚  â”œâ”€ Power Supply
â”‚  â”œâ”€ WiFi                      â”‚  â”œâ”€ Water Supply
â”‚  â”œâ”€ Air Conditioner           â”‚  â”œâ”€ Air Conditioning
â”‚  â”œâ”€ Garage                    â”‚  â”œâ”€ Parking Space
â”‚  â””â”€ ... 14 more               â”‚  â””â”€ ... 4 more
â”‚                               â”‚
â””â”€ Premium:                     â””â”€ Premium:
   â”œâ”€ Swimming Pool                â”œâ”€ CCTV System
   â”œâ”€ Gym House                    â”œâ”€ Conference Room
   â”œâ”€ Elevator                     â”œâ”€ Fiber Internet
   â””â”€ ... 8 more                   â””â”€ ... 6 more

SHORTLET
â”œâ”€ Basic:
â”‚  â”œâ”€ WiFi
â”‚  â”œâ”€ Air Conditioning
â”‚  â”œâ”€ Kitchen
â”‚  â””â”€ ... 5 more
â”œâ”€ Comfort:
â”‚  â”œâ”€ Smart TV
â”‚  â”œâ”€ Laundry
â”‚  â””â”€ ... 6 more
â””â”€ Premium:
   â”œâ”€ Swimming Pool
   â”œâ”€ Gym Access
   â””â”€ ... 8 more
```

### Budget Thresholds by Location

```
LOCATION        BUY         RENT        JV              SHORTLET
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Lagos           â‚¦5M         â‚¦200K       â‚¦10M            â‚¦15K
Abuja           â‚¦8M         â‚¦300K       â‚¦15M            â‚¦25K
Default         â‚¦2M         â‚¦100K       â‚¦5M             â‚¦10K

M = Million, K = Thousand
```

---

## Single Property View - At a Glance

### Page URL Structure

```
/property/[marketType]/[propertyID]

marketType values:
â”œâ”€ "buy"           â†’ Property for sale
â”œâ”€ "rent"          â†’ Property for rent
â”œâ”€ "shortlet"      â†’ Short-term accommodation
â””â”€ "joint-venture" â†’ JV partnership property
```

### Property Information Display

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROPERTY HEADER                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Property Type | Location             â”‚
â”‚ Status Badge  | Premium Badge        â”‚
â”‚              Price                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IMAGE GALLERY                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main Image (with < > navigation)     â”‚
â”‚ Video Thumbnails with Play buttons   â”‚
â”‚                                      â”‚
â”‚ Thumbnail Strip:                     â”‚
â”‚ [img][img][img][img][img][img]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KEY FEATURES (Grid)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Beds: 4   â”‚ Baths: 3                â”‚
â”‚ Toilets: 2â”‚ Parking: 2              â”‚
â”‚ Land Size â”‚ Condition: New          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AMENITIES & FEATURES (List)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Swimming Pool                      â”‚
â”‚ â€¢ Security Cameras                   â”‚
â”‚ â€¢ WiFi                               â”‚
â”‚ â€¢ Generator Backup                   â”‚
â”‚ ... more features                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DOCUMENTS & VERIFICATION             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ Certificate of Occupancy           â”‚
â”‚ âœ“ Deed of Assignment                 â”‚
â”‚ âœ— Consent Letter                     â”‚
â”‚ âœ“ Land Survey Plan                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOCATION MAP                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Interactive Map with marker]        â”‚
â”‚ Address: 123 Main Street, Lagos      â”‚
â”‚ Get Directions â†’                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OWNER/AGENT CONTACT CARD             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name: John Doe                       â”‚
â”‚ Phone: +234 801 234 5678             â”‚
â”‚ Email: john@example.com              â”‚
â”‚ âœ“ Verified Agent                     â”‚
â”‚                                      â”‚
â”‚ [Message] [Call] [Actions]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Action Buttons by Market Type

```
BUY PROPERTY
â”œâ”€ ğŸ’š Save (Like)
â”œâ”€ ğŸ’¬ Negotiate Price â†’ Opens modal
â”œâ”€ ğŸ“ Contact
â””â”€ ğŸ“§ Message

RENT PROPERTY
â”œâ”€ ğŸ’š Save
â”œâ”€ ğŸ“ Contact Agent
â”œâ”€ ğŸ“§ Message
â””â”€ ğŸ“… Schedule Viewing

SHORTLET
â”œâ”€ ğŸ’š Save
â”œâ”€ ğŸ“… Book Now â†’ Opens calendar modal
â”œâ”€ ğŸ“ Contact
â””â”€ ğŸ“§ Message

JOINT VENTURE
â”œâ”€ ğŸ’š Save
â”œâ”€ ğŸ“„ Upload LOI â†’ Opens LOI modal
â”œâ”€ ğŸ“ Contact Developer
â””â”€ ğŸ“§ Message
```

### Modals & Overlays

```
PRICE NEGOTIATION MODAL (Buy)
â”œâ”€ Current Price: â‚¦50,000,000
â”œâ”€ Proposed Price: [input]
â”œâ”€ Price Reduction: Calculated
â”œâ”€ Message: [textarea]
â”œâ”€ Contact Method: [select]
â””â”€ [Submit Negotiation]

SHORTLET BOOKING MODAL
â”œâ”€ Check-in Date: [calendar]
â”œâ”€ Check-out Date: [calendar]
â”œâ”€ Number of Guests: [slider 1-max]
â”œâ”€ Total Nights: Calculated
â”œâ”€ Total Price: Calculated
â”œâ”€ Special Requests: [textarea]
â”œâ”€ Contact Method: [select]
â””â”€ [Complete Booking]

LOI UPLOAD MODAL (JV)
â”œâ”€ Document Type: [select]
â”œâ”€ Document File: [upload]
â”œâ”€ Cover Letter: [textarea]
â”œâ”€ Proposed Terms: [form]
â”œâ”€ Additional Attachments: [upload multiple]
â””â”€ [Submit LOI]
```

---

## Data Structure Quick Reference

### Preference Form Data

```typescript
FlexibleFormData {
  // Common
  location: {
    state: "Lagos",
    lgas: ["Lekki", "Ikoyi"],
    areas: ["VI", "Ikoyi Island"],
    customLocation?: "My custom area"
  },
  
  budget: {
    minPrice: 50000000,
    maxPrice: 100000000,
    currency: "NGN"
  },
  
  features: {
    basicFeatures: ["Security", "WiFi"],
    premiumFeatures: ["Swimming Pool"],
    autoAdjustToBudget: false
  },
  
  contactInfo: {
    fullName: "John Doe",
    email: "john@example.com",
    phoneNumber: "+234801234567"
  },
  
  // Buy/Rent specific
  propertyDetails: {
    propertySubtype: "residential",
    buildingType: "Detached",
    bedrooms: 4,
    bathrooms: 3,
    propertyCondition: "New",
    documentTypes: ["C of O"],
    measurementUnit: "sqm",
    minLandSize: 500,
    maxLandSize: 1000
  },
  
  // JV specific
  developmentDetails: {
    developmentTypes: ["Residential"],
    minLandSize: "10",
    measurementUnit: "hectares",
    preferredSharingRatio: "60:40",
    minimumTitleRequirements: ["C of O"]
  },
  
  // Shortlet specific
  bookingDetails: {
    checkInDate: "2024-03-15",
    checkOutDate: "2024-03-20",
    maxGuests: 4,
    travelType: "family"
  }
}
```

### Property Details Data

```typescript
PropertyDetails {
  _id: "507f...",
  propertyId: "PROP-2024-001",
  
  // Location
  location: {
    state: "Lagos",
    localGovernment: "Lekki",
    area: "Victoria Island",
    streetAddress?: "123 Main St"
  },
  
  // Basic info
  propertyType: "Residential",
  propertyCategory: "buy",
  price: 50000000,
  propertyCondition: "New",
  
  // Features
  bedRoom: 4,
  additionalFeatures: {
    noOfBedrooms: 4,
    noOfBathrooms: 3,
    noOfToilets: 2,
    noOfCarParks: 2,
    additionalFeatures: ["Pool", "Gym"]
  },
  
  // Media
  pictures: ["url1.jpg", "url2.jpg"],
  videos: ["video1.mp4"],
  
  // Documents
  docOnProperty: [
    { docName: "C of O", isProvided: true }
  ],
  
  // Status
  isAvailable: true,
  isApproved: true,
  isPremium: true,
  owner: "User123"
}
```

---

## API Endpoints Reference

### Preference Endpoints

```
POST /api/preferences
â”œâ”€ Request: PreferencePayload
â”œâ”€ Response: { success, preferenceId, message }
â””â”€ Status: Preference saved

GET /api/preferences/:id
â”œâ”€ Request: preference ID
â”œâ”€ Response: PreferenceDetails
â””â”€ Usage: Fetch existing preference

PUT /api/preferences/:id
â”œâ”€ Request: Updated PreferencePayload
â”œâ”€ Response: { success, message }
â””â”€ Usage: Update preference

DELETE /api/preferences/:id
â”œâ”€ Request: preference ID
â”œâ”€ Response: { success, message }
â””â”€ Usage: Delete preference
```

### Property Endpoints

```
GET /api/property/:marketType/:id
â”œâ”€ Response: PropertyDetails
â””â”€ Status: Property loaded

POST /api/property/:id/view
â”œâ”€ Usage: Track property view
â””â”€ Status: View recorded

POST /api/property/:id/like
â”œâ”€ Response: { liked: true, totalLikes: number }
â””â”€ Usage: Save property

DELETE /api/property/:id/like
â”œâ”€ Response: { liked: false, totalLikes: number }
â””â”€ Usage: Unsave property

POST /api/negotiation/create
â”œâ”€ Payload: { propertyId, proposedPrice, message }
â”œâ”€ Response: { success, negotiationId }
â””â”€ Usage: Start price negotiation

POST /api/booking/shortlet/create
â”œâ”€ Payload: { propertyId, checkIn, checkOut, guests }
â”œâ”€ Response: { success, bookingId }
â””â”€ Usage: Create shortlet booking

POST /api/loi/upload
â”œâ”€ Payload: FormData with document
â”œâ”€ Response: { success, loiId }
â””â”€ Usage: Upload Letter of Intent
```

---

## Context Hooks Reference

### usePreferenceForm Hook

```typescript
const {
  // State
  state: PreferenceFormState,
  
  // Navigation
  goToStep(step: number),
  goToNextStep(),
  goToPreviousStep(),
  
  // Data Management
  updateFormData(data: Partial<FlexibleFormData>),
  resetForm(),
  
  // Validation
  validateStep(step: number): ValidationError[],
  isStepValid(step: number): boolean,
  canProceedToNextStep(): boolean,
  isFormValid(): boolean,
  triggerValidation(step?: number),
  getValidationErrorsForField(field: string): ValidationError[],
  
  // Utilities
  getMinBudgetForLocation(location: string, type: string): number,
  getAvailableFeatures(type: string, budget?: number): FeatureConfig,
  
  // Dispatch
  dispatch: React.Dispatch<PreferenceFormAction>
} = usePreferenceForm()
```

---

## File Organization

### Preference System

```
src/
â”œâ”€â”€ app/preference/
â”‚   â”œâ”€â”€ page.tsx                          # Main page
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ components/preference-form/
â”‚   â”œâ”€â”€ OptimizedLocationSelection.tsx    # Step 0
â”‚   â”œâ”€â”€ OptimizedBudgetSelection.tsx      # Step 1
â”‚   â”œâ”€â”€ FeatureSelection.tsx              # Step 2
â”‚   â”œâ”€â”€ PropertyDetails.tsx               # Step 1
â”‚   â”œâ”€â”€ OptimizedContactInformation.tsx   # Step 3
â”‚   â”œâ”€â”€ DateSelection.tsx                 # Shortlet specific
â”‚   â”œâ”€â”€ SubmitButton.tsx
â”‚   â”œâ”€â”€ OptimizedStepWrapper.tsx
â”‚   â”œâ”€â”€ PreferenceTypeSelector.tsx
â”‚   â””â”€â”€ joint-venture/
â”‚       â””â”€â”€ JointVenturePreferenceForm.tsx
â”œâ”€â”€ context/
â”‚   â””â”€â”€ preference-form-context.tsx       # State management
â”œâ”€â”€ data/
â”‚   â””â”€â”€ preference-configs.ts             # Features & budget
â”œâ”€â”€ types/
â”‚   â””â”€â”€ preference-form.ts                # TypeScript types
â””â”€â”€ utils/validation/
    â””â”€â”€ preference-validation.ts          # Yup schemas
```

### Property System

```
src/
â”œâ”€â”€ app/property/
â”‚   â””â”€â”€ [marketType]/
â”‚       â””â”€â”€ [ID]/
â”‚           â””â”€â”€ page.tsx                  # Main page
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ property/
â”‚   â”‚   â””â”€â”€ PropertyLocationMap.tsx
â”‚   â”œâ”€â”€ modals/
â”‚   â”‚   â”œâ”€â”€ GlobalPriceNegotiationModal.tsx
â”‚   â”‚   â””â”€â”€ AdvancedPriceNegotiationModal.tsx
â”‚   â”œâ”€â”€ shortlet/
â”‚   â”‚   â””â”€â”€ ShortletBookingModal.tsx
â”‚   â””â”€â”€ new-marketplace/modals/
â”‚       â””â”€â”€ LOIUploadModal.tsx
â”œâ”€â”€ types/
â”‚   â””â”€â”€ property.types.ts                 # TypeScript types
â””â”€â”€ context/
    â”œâ”€â”€ selected-briefs-context.tsx
    â””â”€â”€ global-property-actions-context.tsx
```

---

## Common Code Snippets

### Using Preference Form

```tsx
const { updateFormData, goToNextStep, validateStep } = usePreferenceForm();

// Update location
updateFormData({
  location: { state: "Lagos", lgas: ["Lekki"] }
});

// Validate and proceed
const errors = validateStep(0);
if (errors.length === 0) {
  goToNextStep();
}
```

### Fetching Property

```tsx
const [property, setProperty] = useState(null);

useEffect(() => {
  const fetch = async () => {
    const response = await api.get(`/api/property/${marketType}/${id}`);
    setProperty(response.data);
  };
  fetch();
}, [marketType, id]);
```

### Submitting Preference

```tsx
const handleSubmit = async () => {
  if (!isFormValid()) {
    toast.error("Please fill all fields");
    return;
  }
  
  const payload = generatePayload();
  const response = await POST_REQUEST(URLS.POST_PREFERENCE, payload);
  
  if (response.success) {
    toast.success("Preference submitted!");
    resetForm();
  }
};
```

---

## Troubleshooting Quick Reference

```
Issue: Form won't advance
â†’ Check: validateStep() returns errors
â†’ Fix: Correct validation errors shown

Issue: Images not loading
â†’ Check: Image URLs are valid
â†’ Fix: Verify CORS settings, check image server

Issue: Budget validation failing
â†’ Check: Compare with DEFAULT_BUDGET_THRESHOLDS
â†’ Fix: Update thresholds for your location

Issue: Modal not opening
â†’ Check: State management for modal visibility
â†’ Fix: Verify onClick handlers are wired correctly

Issue: API submission fails
â†’ Check: Verify endpoint URL in URLS config
â†’ Fix: Check payload matches backend schema

Issue: Context not available
â†’ Check: Component is wrapped with Provider
â†’ Fix: Wrap parent with PreferenceFormProvider
```

---

## Integration Checklist

- [ ] Copy all type definition files
- [ ] Copy context files
- [ ] Copy component files
- [ ] Install all dependencies
- [ ] Update API endpoint URLs
- [ ] Configure budget thresholds
- [ ] Customize feature lists
- [ ] Test all 4 preference types
- [ ] Test property view with sample data
- [ ] Verify validation works
- [ ] Check responsive design
- [ ] Test all modals/interactions
- [ ] Set up error handling
- [ ] Deploy to staging
- [ ] User acceptance testing
- [ ] Deploy to production

---

## Documentation Map

| Feature | Full Doc | Quick Ref |
|---------|----------|-----------|
| Preference Form | PREFERENCE_SUBMISSION_DOCUMENTATION.md | This file |
| Property View | PROPERTY_VIEW_DOCUMENTATION.md | This file |
| Integration | INTEGRATION_SUMMARY.md | INTEGRATION_SUMMARY.md |
| Code Examples | Each main documentation | This file |

---

